<% if notice %>
  <p class="alert"><%= notice %></p>
<% end %>

<h3>Active game for current player</h3>
<div>
  <% if @active_game.won? %>
    You have won!
  <% elsif @active_game.lost? %>
    You have lost...
  <% end %>
</div>

<div>
  <p>guesses: <%= @active_game.guesses.join(", ") %></p>
  <p>secret: <%= @active_game.secret %></p>
</div>

<div>
  Secret: <%= @active_game.secret.gsub(/./) { |c| @active_game.guessed?(c) ? "#{c} " : "_ " } %>
</div>
<div>
  Lives left: <%= @active_game.max_misses - @active_game.missed_guesses.size %>
</div>

<!-- Submit a guess to active game -->
<div>
  <%= form_for(:guess, url: submit_guess_path) do |f| %>
    <div>
      <%= f.text_field :content, maxlength: 1, size: 10 %>
      <% if @active_game.over? %>
        <%= f.submit value: "Guess", disabled: 1%>
      <% else %>
        <%= f.submit value: "Guess" %>
      <% end %>
    </div>
  <% end %>
</div>
